<!-- planes.html -->
{% extends 'base.html' %}

{% block content %}
<div class="text-center mb-5">
    <h1>Planes de Suscripción</h1>
    <p class="text-muted">Elige el plan que mejor se adapte a tus necesidades</p>
</div>

<div class="row justify-content-center">
    <!-- Plan Gratuito -->
    <div class="col-md-4 mb-4">
        <div class="card h-100 border-secondary">
            <div class="card-header bg-light text-center py-4">
                <h4 class="text-secondary">Gratuito</h4>
                <h2 class="text-secondary">$0</h2>
                <small class="text-muted">/mes</small>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="fas fa-check text-success"></i> 3 diagnósticos mensuales</li>
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Reportes básicos</li>
                    <li class="mb-2"><i class="fas fa-times text-danger"></i> Análisis de archivos</li>
                    <li class="mb-2"><i class="fas fa-times text-danger"></i> Reportes PDF</li>
                    <li class="mb-2"><i class="fas fa-times text-danger"></i> Soporte prioritario</li>
                </ul>
            </div>
            <div class="card-footer bg-transparent">
                {% if session.user_id and session.plan == 'gratuito' %}
                <button class="btn btn-outline-secondary w-100" disabled>Plan Actual</button>
                {% else %}
                <form action="/upgrade_plan" method="POST" class="d-inline w-100">
                    <input type="hidden" name="plan" value="gratuito">
                    <button type="submit" class="btn btn-outline-secondary w-100">Seleccionar</button>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Plan Premium -->
    <div class="col-md-4 mb-4">
        <div class="card h-100 border-primary shadow-sm">
            <div class="card-header bg-primary text-white text-center py-4">
                <span class="badge bg-warning float-end">Popular</span>
                <h4>Premium</h4>
                <h2>$49.900</h2>
                <small>/mes</small>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Diagnósticos ilimitados</li>
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Reportes avanzados</li>
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Análisis de archivos</li>
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Reportes PDF descargables</li>
                    <li class="mb-2"><i class="fas fa-check text-success"></i> Soporte prioritario 24/7</li>
                </ul>
            </div>
            <div class="card-footer bg-transparent">
                {% if session.user_id and session.plan == 'premium' %}
                <button class="btn btn-primary w-100" disabled>Plan Actual</button>
                {% else %}
                <form action="/upgrade_plan" method="POST" class="d-inline w-100">
                    <input type="hidden" name="plan" value="premium">
                    <button type="submit" class="btn btn-primary w-100">Seleccionar</button>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Información adicional -->
<div class="row mt-5">
    <div class="col-md-8 mx-auto">
        <div class="alert alert-info">
            <h5><i class="fas fa-info-circle"></i> Información importante</h5>
            <ul class="mb-0">
                <li>Los diagnósticos se reinician cada mes calendario</li>
                <li>Puedes cambiar de plan en cualquier momento</li>
                <li>Facturación mensual automática para planes premium</li>
                <li>Cancelación en cualquier momento sin penalización</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}